{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../users/user.service\";\nexport class AuthService {\n  constructor(userService) {\n    this.userService = userService;\n    this.userEmail = null;\n    this._isAuthenticated = false;\n    this.updateAuthState();\n    this.userService.userChanged.subscribe(() => {\n      this.updateAuthState();\n    });\n  }\n  updateAuthState() {\n    const user = this.userService.getUser();\n    this.userEmail = user ? user.Email : null;\n    this._isAuthenticated = !!this.userEmail;\n  }\n  isAuthenticated() {\n    return this._isAuthenticated;\n  }\n  isAdmin() {\n    return this._isAuthenticated && this.userEmail === 'admin@rhs.com';\n  }\n}\nAuthService.ɵfac = function AuthService_Factory(t) {\n  return new (t || AuthService)(i0.ɵɵinject(i1.UserService));\n};\nAuthService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthService,\n  factory: AuthService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;AAMA,OAAM,MAAOA,WAAW;EAItBC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAHvB,cAAS,GAAkB,IAAI;IAC/B,qBAAgB,GAAY,KAAK;IAGvC,IAAI,CAACC,eAAe,EAAE;IACtB,IAAI,CAACD,WAAW,CAACE,WAAW,CAACC,SAAS,CAAC,MAAK;MAC1C,IAAI,CAACF,eAAe,EAAE;IACxB,CAAC,CAAC;EACJ;EAEQA,eAAe;IACrB,MAAMG,IAAI,GAAG,IAAI,CAACJ,WAAW,CAACK,OAAO,EAAE;IACvC,IAAI,CAACC,SAAS,GAAGF,IAAI,GAAGA,IAAI,CAACG,KAAK,GAAG,IAAI;IACzC,IAAI,CAACC,gBAAgB,GAAG,CAAC,CAAC,IAAI,CAACF,SAAS;EAC1C;EAEAG,eAAe;IACb,OAAO,IAAI,CAACD,gBAAgB;EAC9B;EAEAE,OAAO;IACL,OAAO,IAAI,CAACF,gBAAgB,IAAI,IAAI,CAACF,SAAS,KAAK,eAAe;EACpE;;AAvBWR,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;SAAXA,WAAW;EAAAa,SAAXb,WAAW;EAAAc,YAFV;AAAM","names":["AuthService","constructor","userService","updateAuthState","userChanged","subscribe","user","getUser","userEmail","Email","_isAuthenticated","isAuthenticated","isAdmin","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\47925\\OneDrive - OsloMet\\Skrivebord\\webapp\\RHS-Angular-master\\ClientApp\\src\\app\\shared\\auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { UserService } from '../users/user.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthService {\r\n  private userEmail: string | null = null;\r\n  private _isAuthenticated: boolean = false;\r\n\r\n  constructor(private userService: UserService) {\r\n    this.updateAuthState();\r\n    this.userService.userChanged.subscribe(() => {\r\n      this.updateAuthState();\r\n    });\r\n  }\r\n\r\n  private updateAuthState() {\r\n    const user = this.userService.getUser();\r\n    this.userEmail = user ? user.Email : null;\r\n    this._isAuthenticated = !!this.userEmail;\r\n  }\r\n\r\n  isAuthenticated(): boolean {\r\n    return this._isAuthenticated;\r\n  }\r\n\r\n  isAdmin(): boolean {\r\n    return this._isAuthenticated && this.userEmail === 'admin@rhs.com';\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}