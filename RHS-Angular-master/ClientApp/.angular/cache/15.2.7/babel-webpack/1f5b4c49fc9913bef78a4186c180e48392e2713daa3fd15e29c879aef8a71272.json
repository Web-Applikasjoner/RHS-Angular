{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./items.service\";\nimport * as i3 from \"../shared/auth.service\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = function () {\n  return [\"/items\"];\n};\nexport class ItemDetailComponent {\n  constructor(_router, route, itemService, authService) {\n    this._router = _router;\n    this.route = route;\n    this.itemService = itemService;\n    this.authService = authService;\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const itemId = params['id'];\n      this.itemService.getItemById(itemId).subscribe(item => {\n        this.item = item;\n      });\n    });\n  }\n  canUpdateItem(item) {\n    if (this.authService.isAuthenticated() && this.authService.isAdmin()) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  onUpdateClick(item) {\n    if (this.canUpdateItem(item)) {\n      this._router.navigate(['/itemform', 'edit', item.ItemId]);\n    } else {\n      alert('You do not have permission to update this item.');\n    }\n  }\n}\nItemDetailComponent.ɵfac = function ItemDetailComponent_Factory(t) {\n  return new (t || ItemDetailComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.itemService), i0.ɵɵdirectiveInject(i3.AuthService));\n};\nItemDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ItemDetailComponent,\n  selectors: [[\"app-item-detail\"]],\n  decls: 36,\n  vars: 12,\n  consts: [[\"id\", \"portfolio-details\", 1, \"portfolio-details\"], [1, \"container\"], [1, \"row\", \"gy-4\"], [1, \"col-lg-7\", \"h-auto\"], [1, \"active\"], [\"alt\", \"...\", 1, \"img-fluid\", \"w-100\", 3, \"src\"], [1, \"col-lg-5\"], [1, \"portfolio-info\"], [3, \"routerLink\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"row\", \"gx-5\"]],\n  template: function ItemDetailComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n      i0.ɵɵelement(5, \"img\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\", 6)(7, \"div\", 7)(8, \"h3\");\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"ul\")(11, \"li\")(12, \"strong\");\n      i0.ɵɵtext(13, \"Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"li\")(16, \"strong\");\n      i0.ɵɵtext(17, \"Renting\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(18);\n      i0.ɵɵpipe(19, \"currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"li\")(21, \"strong\");\n      i0.ɵɵtext(22, \"House Location\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(23);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"div\")(25, \"p\")(26, \"a\", 8);\n      i0.ɵɵtext(27, \"Back to all houses\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(28, \"p\")(29, \"a\", 9);\n      i0.ɵɵlistener(\"click\", function ItemDetailComponent_Template_a_click_29_listener() {\n        return ctx.onUpdateClick(ctx.item);\n      });\n      i0.ɵɵtext(30, \"Update\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(31, \"h3\");\n      i0.ɵɵtext(32, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"div\", 10)(34, \"h5\");\n      i0.ɵɵtext(35);\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"src\", ctx.item.ImageUrl, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"Item \", ctx.item.ItemId, \"\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\": \", ctx.item.Category, \"\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\": \", i0.ɵɵpipeBind3(19, 7, ctx.item.Renting, \"NOK\", \"symbol\"), \"\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\": \", ctx.item.Location, \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(11, _c0));\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate(ctx.item.Description);\n    }\n  },\n  dependencies: [i1.RouterLink, i4.CurrencyPipe],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;;;;AAYA,OAAM,MAAOA,mBAAmB;EAG9BC,YACUC,OAAe,EACfC,KAAqB,EACrBC,WAAwB,EACxBC,WAAwB;IAHxB,YAAO,GAAPH,OAAO;IACP,UAAK,GAALC,KAAK;IACL,gBAAW,GAAXC,WAAW;IACX,gBAAW,GAAXC,WAAW;EACjB;EAEJC,QAAQ;IACN,IAAI,CAACH,KAAK,CAACI,MAAM,CAACC,SAAS,CAAED,MAAM,IAAI;MACrC,MAAME,MAAM,GAAGF,MAAM,CAAC,IAAI,CAAC;MAC3B,IAAI,CAACH,WAAW,CAACM,WAAW,CAACD,MAAM,CAAC,CAACD,SAAS,CAAEG,IAAI,IAAI;QACtD,IAAI,CAACA,IAAI,GAAGA,IAAI;MAClB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACAC,aAAa,CAACD,IAAW;IACvB,IAAI,IAAI,CAACN,WAAW,CAACQ,eAAe,EAAE,IAAI,IAAI,CAACR,WAAW,CAACS,OAAO,EAAE,EAAE;MACpE,OAAO,IAAI;KACZ,MAAM;MACL,OAAO,KAAK;;EAEhB;EACAC,aAAa,CAACJ,IAAW;IACvB,IAAI,IAAI,CAACC,aAAa,CAACD,IAAI,CAAC,EAAE;MAC5B,IAAI,CAACT,OAAO,CAACc,QAAQ,CAAC,CAAC,WAAW,EAAE,MAAM,EAAEL,IAAI,CAACM,MAAM,CAAC,CAAC;KAC1D,MAAM;MACLC,KAAK,CAAC,iDAAiD,CAAC;;EAE5D;;AA/BWlB,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;QAAnBA,mBAAmB;EAAAmB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCXhCC,kCAA0D;MAKhDA,yBAA6D;MAC/DA,iBAAM;MAERA,8BAAsB;MAEdA,YAAsB;MAAAA,iBAAK;MAC/BA,2BAAI;MACUA,yBAAQ;MAAAA,iBAAS;MAAAA,aAAqB;MAAAA,iBAAK;MACvDA,2BAAI;MAAQA,wBAAO;MAAAA,iBAAS;MAAAA,aAAgD;;MAAAA,iBAAK;MACjFA,2BAAI;MAAQA,+BAAc;MAAAA,iBAAS;MAAAA,aAAqB;MAAAA,iBAAK;MAG/DA,4BAAK;MAC6BA,mCAAkB;MAAAA,iBAAI;MACtDA,0BAAG;MACEA;QAAA,OAASC,2BAAmB;MAAA,EAAC;MAAyBD,uBAAM;MAAAA,iBAAI;MAKvEA,2BAAI;MAAAA,4BAAW;MAAAA,iBAAK;MACpBA,gCAAsB;MAAIA,aAAsB;MAAAA,iBAAK;;;MArBhDA,eAAqB;MAArBA,yDAAqB;MAKtBA,eAAsB;MAAtBA,mDAAsB;MAEKA,eAAqB;MAArBA,kDAAqB;MACtBA,eAAgD;MAAhDA,yFAAgD;MACzCA,eAAqB;MAArBA,kDAAqB;MAIlDA,eAAyB;MAAzBA,wDAAyB;MAQPA,eAAsB;MAAtBA,0CAAsB","names":["ItemDetailComponent","constructor","_router","route","itemService","authService","ngOnInit","params","subscribe","itemId","getItemById","item","canUpdateItem","isAuthenticated","isAdmin","onUpdateClick","navigate","ItemId","alert","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\47925\\OneDrive - OsloMet\\Skrivebord\\webapp\\RHS-Angular-master\\ClientApp\\src\\app\\items\\item-details.component.ts","C:\\Users\\47925\\OneDrive - OsloMet\\Skrivebord\\webapp\\RHS-Angular-master\\ClientApp\\src\\app\\items\\item-details.component.html"],"sourcesContent":["// item-detail.component.ts\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { itemService } from './items.service'; \nimport { IItem } from './item';\nimport { AuthService } from '../shared/auth.service';\r\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-item-detail',\n  templateUrl: './item-details.component.html'\n})\nexport class ItemDetailComponent implements OnInit {\n  item: any;\n\n  constructor(\n    private _router: Router,\n    private route: ActivatedRoute,\n    private itemService: itemService,\n    private authService: AuthService\n  ) { }\n\n  ngOnInit(): void {\n    this.route.params.subscribe((params) => {\n      const itemId = params['id'];\n      this.itemService.getItemById(itemId).subscribe((item) => {\n        this.item = item;\n      });\n    });\n  }\n  canUpdateItem(item: IItem): boolean {\n    if (this.authService.isAuthenticated() && this.authService.isAdmin()) {\n      return true;\n    } else {      \n      return false;\n    }\n  }\n  onUpdateClick(item: IItem): void {\n    if (this.canUpdateItem(item)) {\n      this._router.navigate(['/itemform', 'edit', item.ItemId]);\n    } else {\n      alert('You do not have permission to update this item.');\n    }\n  }\n}\n","<!-- ======= Portfolio Details Section ======= -->\n<section id=\"portfolio-details\" class=\"portfolio-details\">\n  <div class=\"container\">\n    <div class=\"row gy-4\">\n      <div class=\"col-lg-7 h-auto\">\n        <div class=\"active\">\n          <img [src]=\"item.ImageUrl\" class=\"img-fluid w-100\" alt=\"...\">\n        </div>\n      </div>\n      <div class=\"col-lg-5\">\n        <div class=\"portfolio-info\">\n          <h3>Item {{ item.ItemId }}</h3>\n          <ul>\n            <li><strong>Category</strong>: {{ item.Category }}</li>\n            <li><strong>Renting</strong>: {{ item.Renting | currency: 'NOK': 'symbol' }}</li>\n            <li><strong>House Location</strong>: {{ item.Location }}</li>\n          </ul>\n\n          <div>\n            <p><a [routerLink]=\"['/items']\">Back to all houses</a></p>\n            <p>\n              <a (click)=\"onUpdateClick(item)\" class=\"btn btn-primary\">Update</a>     \n\n            </p>\n          </div>\n\n          <h3>Description</h3>\n          <div class=\"row gx-5\"><h5>{{ item.Description }}</h5></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}